<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bacalah</title>

    <link rel="stylesheet" href="css/style.css" />

    <!-- alpine.js -->
    <script src="//unpkg.com/alpinejs" defer></script>
    <script src="books.js"></script>

    <!-- sweetiealert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
      @layer utilities {
        .custom-scrollbar::-webkit-scrollbar {
          width: 4px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: #4caf50;
          border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
          background: #2e7d32;
        }
      }

      [x-cloak] {
        display: none !important;
      }
    </style>
  </head>
  <body class="">
    <!-- navigasi -->
    <nav class="flex flex-row bg-green-400 h-24 p-3 md:p-4 w-full sticky top-0 z-10 shadow-md">
      <!-- Logo dan Link Utama -->
      <a
        href="index.html"
        class="flex items-center cursor-pointer flex-shrink-0 basis-1/6 text-2xl md:text-5xl lg:text-4xl md:font-semibold text-nowrap font-bold"
      >
        Bacalah
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="size-9 w-12"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"
          />
        </svg>
      </a>

      <!-- Menu Hamburger dan Ikon Pencarian -->
      <div class="flex items-center ml-auto">
        <button id="menu-button" class="lg:hidden text-black text-2xl">☰</button>
      </div>

      <!-- Menu Links (Hidden on Mobile) -->
      <div
        class="flex-grow basis-1/6 hidden gap-24 items-center justify-center lg:justify-start text-xl lg:flex md:hidden"
      >
        <a href="index.html" class="relative inline-block px-2 py-1 text-gray-800 group">
          Beranda
          <span
            class="absolute bottom-0 left-0 h-1 bg-slate-950 transition-all duration-300 ease-in-out w-0 group-hover:w-full"
          ></span>
        </a>
        <a href="masukanBuku.html" class="relative inline-block px-2 py-1 text-gray-800 group">
          MasukanBuku
          <span
            class="absolute bottom-0 left-0 h-1 bg-slate-950 transition-all duration-300 ease-in-out w-0 group-hover:w-full"
          ></span>
        </a>
        <a href="tentang.html" class="relative inline-block px-2 py-1 text-gray-800 group">
          Tentang
          <span
            class="absolute bottom-0 left-0 h-1 bg-slate-950 transition-all duration-300 ease-in-out w-0 group-hover:w-full"
          ></span>
        </a>
      </div>

    

      <!-- Mobile Menu (Hidden on Desktop) -->
      <div
        id="mobile-menu"
        class="fixed top-0 right-0 h-full w-64 md:w-80 bg-black transform translate-x-full transition-transform duration-300 ease-in-out"
      >
        <div class="flex justify-end p-4">
          <button id="close-menu" class="text-3xl text-white hover:">❎</button>
        </div>

        <div class="flex flex-col items-center text-xl space-y-4 mt-8 gap-y-10">
          <a href="index.html" class="text-white hover:text-blue-700">Beranda</a>
          <a href="masukanBuku.html" class="text-white hover:text-blue-700">MasukanBuku</a>
          <a href="tentang.html" class="text-white hover:text-blue-700">Tentang</a>
        </div>
      </div>

    
    </nav>

  
    <section class="flex flex-col bg-blue-400 p-3 w-full overflow-hidden">

      <div x-data="bookList()">
        <form class="mb-5 w-full lg:w-1/2 lg:my-5 lg:mx-auto" @submit.prevent="searchBooks">
            <input
                x-model="searchQuery"
                @input="searchBooks"
                class="w-full mr-2 rounded-md p-3 shadow-md"
                style="height: 2.5rem"
                type="search"
                placeholder="Search for a book..."
                aria-label="Search"
            />
         
        </form>
    
        <!-- Tampilkan pesan jika tidak ada buku yang ditemukan -->
        <template x-if="noBooksFound">
            <div class="flex items-start justify-center h-screen">
                <div class="text-center">
                    
                    <h2 class="text-2xl font-bold mb-2">No Books Found</h2>
                    <p class="text-lg">Sorry, we couldn't find any books that match your search.</p>
                </div>
            </div>
        </template>
    
        <!-- Cards Section -->
        <template x-if="!noBooksFound">
            <div class="flex flex-wrap min-h-[100vh]">
                <template x-for="book in filteredBooks" :key="book.title">
                    <div class="w-1/2 sm:w-1/4 lg:w-1/6 px-2 mb-4">
                        <!-- Card -->
                        <div class="bg-slate-200 shadow-xl rounded h-max text-center p-2">
                            <img
                                :src="book.cover"
                                class="w-full h-44 sm:h-52 md:h-52 lg:h-64"
                                :alt="book.title"
                            />
                            <div class="flex flex-col w-full">
                                <div class="mt-2">
                                    <a
                                        href="#"
                                        title="download this book"
                                        download
                                        class="inline-block mr-3"
                                        @click.prevent="downloadBook(book.pdf)"
                                    >
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            width="20"
                                            height="20"
                                            fill="currentColor"
                                            class="bi bi-arrow-down-circle-fill"
                                            viewBox="0 0 16 16"
                                        >
                                            <path
                                                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"
                                            />
                                        </svg>
                                    </a>
    
                                    <a
                                        href="#"
                                        @click.prevent="selectedBook = book"
                                        class="inline-block ml-3"
                                        title="more information"
                                    >
                                        <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            width="20"
                                            height="20"
                                            fill="currentColor"
                                            class="bi bi-journal-bookmark-fill"
                                            viewBox="0 0 16 16"
                                        >
                                            <path
                                                fill-rule="evenodd"
                                                d="M6 1h6v7a.5.5 0 0 1-.757.429L9 7.083 6.757 8.43A.5.5 0 0 1 6 8z"
                                            />
                                            <path
                                                d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2"
                                            />
                                            <path
                                                d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1z"
                                            />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
        </template>
    
        <!-- Modal -->
        <div
            x-show="selectedBook"
            x-cloak
            x-transition:enter="transition ease-out duration-300"
            x-transition:enter-start="opacity-0 transform scale-90"
            x-transition:enter-end="opacity-100 transform scale-100"
            @click.self="selectedBook = null"
            class="fixed inset-0 flex items-center justify-center z-50"
        >
            <div class="bg-slate-950 p-3 rounded-lg w-11/12 h-max md:w-1/8 lg:w-1/3" @click.stop>
                <div class="relative text-center">
                    <h6
                        class="text-white text-2xl mb-4 inline-block capitalize sm:3xl md:text-3xl lg:text-3xl"
                    >
                        more information
                    </h6>
                </div>
    
                <div class="flex flex-row md:justify-start">
                    <div class="w-full h-full mr-2 md:mr-5 basis-1/2 md:basis-1/4 lg:basis-1/2">
                        <template x-if="selectedBook && selectedBook.cover">
                            <img :src="selectedBook.cover" class="w-48 h-full" />
                        </template>
                    </div>
    
                    <div
                        class="basis-1/2 max-h-64 md:basis-auto overflow-y-auto custom-scrollbar lg:basis-1/2"
                    >
                        <p class="text-white text-left sm:text-xl text-xs md:text-2xl lg:text-xl">
                            <strong>Author : </strong>
                            <span x-text="selectedBook ? selectedBook.author : ''"></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    
    </section>

    <footer class="w-full h-max bg-slate-950">
      <div>
        <p class="text-white p-5 text-justify text-wrap">
          &copy; 2024 Bacalah. All rights reserved to the original authors and publishers of the
          books. This website is a non-commercial project created solely for educational purposes by
          the developer. The developer does not claim any ownership over the content, nor does the
          developer seek any profit from it. The books provided are for reading purposes only, and
          no fees are charged to the users.
        </p>
      </div>
    </footer>

    <script src="script.js"></script>
  </body>
</html>
